---
interface Props {
	title: string;
}
const { title } = Astro.props;
---
<!doctype html>
<html lang="ca">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<title>{title}</title>
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
	</head>
	<body class="bg-zinc-950 text-zinc-100 selection:bg-orange-500">
		<slot />
		
		<div id="cookie-banner" class="fixed bottom-0 left-0 w-full z-[100] p-4 translate-y-full transition-transform duration-500">
			<div class="max-w-4xl mx-auto bg-zinc-900 border border-zinc-800 p-6 shadow-2xl flex flex-col md:flex-row items-center justify-between gap-4">
				<p class="text-zinc-400 text-xs leading-relaxed">
					<span data-key="cookieText">Utilizamos cookies para mejorar tu experiencia. Al continuar navegando, aceptas nuestra </span>
					<a href="/cookies" class="text-white underline" data-key="cookies">cookies</a>.
				</p>
				<button id="accept-cookies" class="bg-white text-black text-[10px] font-black px-6 py-2 uppercase tracking-widest hover:bg-orange-600 hover:text-white transition-all whitespace-nowrap" data-key="cookieAccept">
					ACEPTAR
				</button>
			</div>
		</div>

		<script is:inline>
			// Lógica de visualización del banner
			const banner = document.getElementById('cookie-banner');
			const btn = document.getElementById('accept-cookies');

			if (!localStorage.getItem('cookies-accepted')) {
				setTimeout(() => {
					banner.classList.remove('translate-y-full');
				}, 1000);
			}

			btn.addEventListener('click', () => {
				localStorage.setItem('cookies-accepted', 'true');
				banner.classList.add('translate-y-full');
			});
		</script>
	</body>
</html>

<style is:global>
	:root { --accent: #f97316; }
	html { font-family: 'Montserrat', sans-serif; scroll-behavior: smooth; }
	h1, h2, h3 { font-family: 'Oswald', sans-serif; text-transform: uppercase; letter-spacing: 0.05em; }
</style>